<!-- ============================================================ -->
<!-- ะะะะ 1: ะจะะะะ                                               -->
<!-- ============================================================ -->
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ะะฐะปัะบัะปััะพั ะณะธะดัะฐะฒะปะธัะตัะบะพะณะพ ะธ ัะตะฟะปะพะฒะพะณะพ ัะฐััััะฐ v10</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script type="module" crossorigin src="/main.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-CB2Ttors.css">
</head>

<!-- ============================================================ -->
<!-- ะะะะ 2: HTML (ะะะะะะะะะ ะ ะะะกะขะะะะะ ะะะะะะะะะะ)             -->
<!-- ============================================================ -->
<body class="min-h-screen p-4 md:p-8">
<div class="max-w-7xl mx-auto">

<!-- ========== HEADER ========== -->
<header class="mb-8">
    <div class="mb-4 text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-slate-800">ะะฐะปัะบัะปััะพั ะณะธะดัะฐะฒะปะธัะตัะบะพะณะพ ะธ ัะตะฟะปะพะฒะพะณะพ ัะฐััััะฐ</h1>
        <p class="text-slate-500 text-sm mt-2 font-mono">Q<sub>ัะฐะด</sub>(T<sub>room</sub>) = K<sub>room</sub>ยท(T<sub>room</sub>โT<sub>out</sub>) โ ฮต-NTU + ะัััะพะฝ</p>
        <a href="https://vk.com/otoplenie44" target="_blank" class="author-badge inline-block mt-3" style="padding: 6px 12px; height: 32px; font-size: 0.75rem; border-radius: 8px;">
            <span>๐</span>
            <span>ะะฒัะพั: <strong>ะะพะผะฐะฝ ะัะพะฟะปะตะฝะธะต</strong></span>
            <span style="opacity:0.7; border-left:1px solid rgba(255,255,255,0.3); padding-left:6px; margin-left:2px">vk.com/otoplenie44</span>
        </a>
    </div>

    <div class="flex flex-wrap gap-2 items-center justify-center">
        <button onclick="downloadFullReport()" class="export-btn">
            ๐พ ะัััั
        </button>
        <button onclick="thawAll()" id="btn-thaw" class="hidden px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-semibold transition">
            ๐ฅ ะะฐะทะผะพัะพะทะธัั ะฒัั
        </button>
    </div>
</header>

<!-- ========== ะะะะฎ ะกะะะฃะะฏะฆะะ ะะะะะะขะะะ ========== -->
<div class="mb-6 rounded-xl border-2 border-slate-200 bg-slate-50 overflow-hidden">
<button onclick="toggleRadiatorSimulationMenu()" id="btn-radiator-simulation-menu" 
        class="w-full px-4 py-3 text-left mode-btn rounded-none bg-white text-slate-900 border-b-2 border-slate-200 hover:bg-slate-50 transition-all font-semibold">
    ๐ฅ ะะตะฝั ะกะธะผัะปััะธะธ ะะฐะดะธะฐัะพัะฐ
</button>
<div id="radiator-simulation-submenu" class="flex flex-wrap justify-start gap-3 p-4" style="display:none;">
    <button onclick="setMode('bad')" id="btn-bad" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white text-slate-900 border-2 border-slate-300 hover:bg-slate-50 shadow-sm transition-all">โ ะะตะท ัะดะป.</button>
    <button onclick="setMode('good')" id="btn-good" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white text-slate-700 border-2 border-slate-200 hover:bg-slate-50 shadow-sm transition-all">โ ะก ัะดะป.</button>
    <button onclick="toggleCounterflow()" id="btn-counterflow" class="mode-btn counterflow-btn active px-4 py-2 rounded-xl text-sm font-semibold bg-white text-slate-900 border-2 border-slate-300 shadow-sm transition-all">๐ ะัะพัะธะฒะพัะพะบ</button>
    <button onclick="toggleBalance()" id="btn-balance" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-amber-300 text-amber-700 hover:bg-amber-50 shadow-sm transition-all">๐ ะขะตะฟะปะพะฒะพะน ะฑะฐะปะฐะฝั</button>
    <button onclick="toggleFlowDynamics()" id="btn-flow-dynamics-menu" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-pink-300 text-pink-700 hover:bg-pink-50 shadow-sm transition-all">๐ ะะธะฝะฐะผะธะบะฐ ะฟะพัะพะบะฐ</button>
    <button onclick="toggleCanvas()" id="btn-canvas" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-indigo-300 text-indigo-700 hover:bg-indigo-50 shadow-sm transition-all">๐ผ ะะธะทัะฐะปะธะทะฐัะธั</button>
    <button onclick="toggleCollector()" id="btn-collector" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-orange-300 text-orange-700 hover:bg-orange-50 shadow-sm transition-all">๐ฅ ะะพะปะปะตะบัะพั ะพะฑัะฐัะบะธ</button>
    <button onclick="toggleMetrics()" id="btn-metrics" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-teal-300 text-teal-700 hover:bg-teal-50 shadow-sm transition-all">๐ ะะตััะธะบะธ</button>
    <button onclick="toggleSections()" id="btn-sections" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-violet-300 text-violet-700 hover:bg-violet-50 shadow-sm transition-all">๐ ะกะตะบัะธะธ</button>
    <button onclick="toggleAnalysis()" id="btn-analysis" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-slate-300 text-slate-700 hover:bg-slate-50 shadow-sm transition-all">๐ก ะะฝะฐะปะธะท</button>
    <button onclick="toggleSectionControls()" id="btn-section-controls" class="mode-btn px-4 py-2 rounded-xl text-sm font-semibold bg-white border-2 border-sky-300 text-sky-700 hover:bg-sky-50 shadow-sm transition-all">โ ะะปะฐะฟะฐะฝั ัะตะบัะธะน</button>
</div>
</div>

<!-- ========== ะะะะะะะะกะะะฏ ะขะะะะะะะขะฃะะ ========== -->
<div id="balance-result" class="metric-card balance-card mb-6" style="display:none;">
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-center">
<div class="text-center md:col-span-2">
<div class="text-sm font-bold text-amber-800 mb-1">๐ ะะะะะะะะกะะะฏ ะขะะะะะะะขะฃะะ</div>
<div class="stat-value-lg text-amber-900" id="equilibrium-temp">--ยฐC</div>
<div class="text-xs text-amber-700 mt-1" id="comfort-status">ะะฐัััั...</div>
</div>
<div class="text-center">
<div class="text-xs text-amber-700">Q<sub>ัะฐะดะธะฐัะพัะฐ</sub></div>
<div class="stat-value text-orange-600" id="q-radiator">-- ะั</div>
</div>
<div class="text-center">
<div class="text-xs text-amber-700">Q<sub>ัะตะฟะปะพะฟะพัะตัั</sub></div>
<div class="stat-value text-blue-600" id="q-losses">-- ะั</div>
</div>
</div>
<div class="mt-3 text-xs text-amber-800 bg-amber-100 rounded-lg p-2" id="balance-equation"></div>
</div>

<!-- ========== ะฃะะะะะะะะะ ะงะะกะขะะฆะะะ ะ ะขะะะะะะะขะะะฏะะ ========== -->
<div id="flow-dynamics-section" class="metric-card mb-6" style="display:none; background:linear-gradient(135deg,#fce7f3,#fbcfe8);border:2px solid #db2777;">
<div class="flex flex-wrap items-center justify-between gap-4 mb-4">
<div class="flex items-center gap-4">
<div class="text-sm font-bold text-pink-800">๐ ะะะะะะะขะะซ ะะะะะะะะ ะะะขะะะ</div>
<div class="text-xs text-pink-600">ะะตะณัะปะธััะตะผัะต ะบะพัััะธัะธะตะฝัั ะดะปั ัะธะผัะปััะธะธ ัะฐััะธั</div>
</div>
<div class="flex items-center gap-3">
<span class="text-sm font-mono text-purple-700" id="total-particles-display">โ250 ัะฐััะธั</span>
</div>
</div>
<div id="flow-dynamics-content">
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
<div class="bg-white rounded-lg p-4 border-2 border-pink-300">
<label class="text-sm font-bold text-pink-900 mb-2 block">๐ฅ ะะพัััะธัะธะตะฝั ัะตะฟะปะพะฟะพัะตัั</label>
<div class="text-xs text-pink-700 mb-2">ยฐC/ะบะฐะดั ะฟัะธ ะดะฒะธะถะตะฝะธะธ</div>
<input type="range" id="heat-loss-coeff" min="0" max="0.1" step="0.005" value="0.03" class="w-full">
<div class="text-center mt-2">
<div class="stat-value text-pink-700" id="heat-loss-display">0.030</div>
<div class="text-xs text-pink-600">ะัััะฒะฐะฝะธะต ะฟัะธ ะฟัะพัะธะฒะพัะพะบะต</div>
</div>
</div>
<div class="bg-white rounded-lg p-4 border-2 border-purple-300">
<label class="text-sm font-bold text-purple-900 mb-2 block">๐ง ะงะฐััะธั ะฝะฐ ะปะธัั</label>
<div class="text-xs text-purple-700 mb-2">ะะธะฝะฐะผะธัะตัะบะพะต ะบะพะปะธัะตััะฒะพ</div>
<input type="range" id="particles-per-liter" min="10" max="200" step="10" value="50" class="w-full">
<div class="text-center mt-2">
<div class="stat-value text-purple-700" id="particles-per-liter-display">50</div>
<div class="text-xs text-purple-600">ัั/ะปะธัั</div>
</div>
</div>
<div class="bg-white rounded-lg p-4 border-2 border-indigo-300">
<label class="text-sm font-bold text-indigo-900 mb-2 block">โฌ๏ธ ะกะธะปะฐ ะณัะฐะฒะธัะฐัะธะธ</label>
<div class="text-xs text-indigo-700 mb-2">ะดะปั ัะพะปะพะดะฝัั ัะฐััะธั</div>
<input type="range" id="gravity-force" min="0" max="0.10" step="0.005" value="0.03" class="w-full">
<div class="text-center mt-2">
<div class="stat-value text-indigo-700" id="gravity-force-display">0.030</div>
<div class="text-xs text-indigo-600">ะฟะธะบัะตะปั/ะบะฐะดัยฒ</div>
</div>
</div>
</div>
<div class="mt-3 text-xs text-slate-700 bg-slate-50 rounded-lg p-3 border border-slate-200">
<strong>๐ ะกัะฐัะธััะธะบะฐ ัะฐััะธั:</strong>
<span id="particle-stats" class="font-mono">ะะถะธะดะฐะฝะธะต ะธะฝะธัะธะฐะปะธะทะฐัะธะธ...</span>
</div>
</div>
</div>

<!-- ========== ะะะะฎ ะะะะะะะะะะ ========== -->
<div class="mb-6 rounded-xl border-2 border-slate-200 bg-slate-50 overflow-hidden">
<button onclick="toggleHydraulicsMenu()" id="btn-hydraulics-menu" 
        class="w-full px-4 py-3 text-left mode-btn rounded-none bg-white text-slate-900 border-b-2 border-slate-200 hover:bg-slate-50 transition-all font-semibold">
    โ ะะตะฝั ะะธะดัะฐะฒะปะธะบะธ
</button>
<div id="hydraulics-submenu" class="flex flex-wrap justify-start gap-3 p-4" style="display:none;">
    <button onclick="toggleResistance()" id="btn-resistance" class="mode-btn px-6 py-3 rounded-xl text-sm font-semibold bg-white border-2 border-sky-300 text-sky-700 hover:bg-sky-50 shadow-sm transition-all">
        ๐ง ะกะพะฟัะพัะธะฒะปะตะฝะธะต (ะขััะฑั)
    </button>
    <button onclick="toggleRiser()" id="btn-riser" class="mode-btn px-6 py-3 rounded-xl text-sm font-semibold bg-white border-2 border-purple-300 text-purple-700 hover:bg-purple-50 shadow-sm transition-all">
        ๐ข ะะฐัััั ะกัะพัะบะฐ
    </button>
</div>
</div>

<!-- ========== ะะะะะะะะะะ ========== -->
<div class="metric-card mb-6" id="hydraulic-section" style="display:none; background:linear-gradient(135deg,#e0f2fe,#bae6fd);border:2px solid #0284c7;transition:all .3s ease;">
<div class="text-center mb-3">
<div class="text-sm font-bold text-sky-800">โ ะะะะะะะะะงะะกะะะ ะกะะะะะขะะะะะะะ ะกะะกะขะะะซ</div>
<div class="text-xs text-sky-600">ะขััะฑะฐ 3/4" โข ะะฐะนะฟะฐั 1/2" โข ะัะฐะฝั โข ะัะธ ัะฐััะพะดะต G = const</div>
</div>
<div class="bg-white rounded-lg p-4 mb-4 border-2 border-sky-300">
<div class="text-sm font-bold text-sky-900 mb-3">๐ ะะะะะะะขะะซ ะะะฏ ะะะกะงะะขะ</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
<div class="bg-sky-50 rounded-lg p-3 border border-sky-200">
<div class="text-xs font-bold text-sky-700 mb-2">๐ง ะะกะะะะะะฏ ะขะะฃะะ 3/4"</div>
<div class="flex items-center gap-2 mb-2"><label class="text-xs text-slate-600 w-24">ะะธะฐะผะตัั (ะผะผ):</label><input type="number" id="main-pipe-d" value="20.4" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะปะธะฝะฐ (ะผ):</label><input type="number" id="main-pipe-L" value="2.0" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-orange-50 rounded-lg p-3 border border-orange-200">
<div class="text-xs font-bold text-orange-700 mb-2">โ ะะะะะะก 1/2"</div>
<div class="flex items-center gap-2 mb-2"><label class="text-xs text-slate-600 w-24">ะะธะฐะผะตัั (ะผะผ):</label><input type="number" id="bypass-pipe-d" value="15.6" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะปะธะฝะฐ (ะผ):</label><input type="number" id="bypass-pipe-L" value="1.0" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-green-50 rounded-lg p-3 border border-green-200">
<div class="text-xs font-bold text-green-700 mb-2">๐ฅ ะะะะะะะะ ะ ะะะะะะขะะะฃ</div>
<div class="flex items-center gap-2 mb-2"><label class="text-xs text-slate-600 w-24">ะะธะฐะผะตัั (ะผะผ):</label><input type="number" id="rad-pipe-d" value="20.4" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะปะธะฝะฐ (ะผ):</label><input type="number" id="rad-pipe-L" value="1.5" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-purple-50 rounded-lg p-3 border border-purple-200">
<div class="text-xs font-bold text-purple-700 mb-2">๐ง ะะะะ 3/4" (ะพัะบััั)</div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะพัั. ฮถ:</label><input type="number" id="valve-34-zeta" value="0.3" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-purple-50 rounded-lg p-3 border border-purple-200">
<div class="text-xs font-bold text-purple-700 mb-2">๐ง ะะะะ 1/2" (ะพัะบััั)</div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะพัั. ฮถ:</label><input type="number" id="valve-12-zeta" value="0.5" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-purple-50 rounded-lg p-3 border border-purple-200">
<div class="text-xs font-bold text-purple-700 mb-2">๐ ะขะะะะะะ</div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะพัั. ฮถ:</label><input type="number" id="tee-zeta" value="1.5" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-red-50 rounded-lg p-3 border border-red-200">
<div class="text-xs font-bold text-red-700 mb-2">๐ฅ ะะะะะะขะะ</div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">ะะพัั. ฮถ:</label><input type="number" id="radiator-zeta" value="3.0" step="0.1" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
<div class="bg-blue-50 rounded-lg p-3 border border-blue-200">
<div class="text-xs font-bold text-blue-700 mb-2">๐ง ะะะะะะะขะะซ ะะะะซ</div>
<div class="flex items-center gap-2 mb-2"><label class="text-xs text-slate-600 w-24">ะะปะพัะฝะพััั ฯ:</label><input type="number" id="water-rho" value="985" step="1" class="power-input w-20" onchange="updateHydroParams()"><span class="text-xs text-slate-500">ะบะณ/ะผยณ</span></div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-400 w-24"><s>ะะพัั. ฮป:</s></label><input type="number" id="water-lambda" value="0.025" step="0.001" class="power-input w-20 opacity-40" disabled><span class="text-xs text-green-600 font-bold ml-1">ะฐะฒัะพ (Re)</span></div>
</div>
<div class="bg-blue-50 rounded-lg p-3 border border-blue-200">
<div class="text-xs font-bold text-blue-700 mb-2">๐ ะะะะะะะะขะะะฌะะ</div>
<div class="flex items-center gap-2 mb-2"><label class="text-xs text-slate-600 w-24">ะัะทะบะพััั ฮฝ:</label><input type="number" id="water-nu" value="0.415" step="0.001" class="power-input w-20" onchange="updateHydroParams()"><span class="text-xs text-slate-500">ร10โปโถ</span></div>
<div class="flex items-center gap-2"><label class="text-xs text-slate-600 w-24">g (ะผ/ัยฒ):</label><input type="number" id="water-g" value="9.81" step="0.01" class="power-input w-20" onchange="updateHydroParams()"></div>
</div>
</div>
<div class="mt-3 flex justify-end"><button onclick="resetHydroParams()" class="px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-semibold transition">๐ ะกะฑัะพัะธัั ะฟะพ ัะผะพะปัะฐะฝะธั</button></div>
</div>
<div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
<div class="bg-white rounded-lg p-3 border border-sky-200">
<div class="text-xs font-bold text-orange-700 mb-2">โ ะะฃะขะฌ ะงะะะะ ะะะะะะก</div>
<div class="text-sm font-mono text-sky-700">ะะฐััะพะด: <span class="font-bold" id="bypass-flow-hydro">--</span> ะป/ะผะธะฝ</div>
<div class="text-sm font-mono text-sky-700">ะกะบะพัะพััั: <span id="bypass-velocity">--</span> ะผ/ั</div>
<div class="text-sm font-mono text-red-600">ะะพัะตัะธ: <span class="font-bold" id="bypass-h-total">--</span> ะผ.ะฒ.ัั</div>
<div class="text-xs text-slate-500 mt-1">ััะตะฝะธะต: <span id="bypass-h-friction">--</span> ะผ.ะฒ.ัั<br>ะผะตััะฝัะต: <span id="bypass-h-local">--</span> ะผ.ะฒ.ัั</div>
<div class="text-xs text-teal-600 mt-1">Re=<span id="bypass-Re">--</span> ฮป=<span id="bypass-lambda">--</span></div>
</div>
<div class="bg-white rounded-lg p-3 border border-sky-200">
<div class="text-xs font-bold text-green-700 mb-2">๐ฅ ะะฃะขะฌ ะงะะะะ ะะะะะะขะะ</div>
<div class="text-sm font-mono text-sky-700">ะะฐััะพะด: <span class="font-bold" id="rad-flow-hydro">--</span> ะป/ะผะธะฝ</div>
<div class="text-sm font-mono text-sky-700">ะกะบะพัะพััั: <span id="rad-velocity">--</span> ะผ/ั</div>
<div class="text-sm font-mono text-red-600">ะะพัะตัะธ: <span class="font-bold" id="rad-h-total">--</span> ะผ.ะฒ.ัั</div>
<div class="text-xs text-slate-500 mt-1">ััะตะฝะธะต: <span id="rad-h-friction">--</span> ะผ.ะฒ.ัั<br>ะผะตััะฝัะต: <span id="rad-h-local">--</span> ะผ.ะฒ.ัั</div>
<div class="text-xs text-teal-600 mt-1">Re=<span id="rad-Re">--</span> ฮป=<span id="rad-lambda">--</span></div>
</div>
<div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-3 border-2 border-orange-400">
<div class="text-xs font-bold text-orange-800 mb-2">๐ ะกะะกะขะะะ ะฆะะะะะะ</div>
<div class="text-sm font-mono text-sky-700">ะะฐััะพะด: <span class="font-bold" id="system-flow-hydro">--</span> ะป/ะผะธะฝ</div>
<div class="text-lg font-mono font-bold text-red-600 mt-1">ฮP = <span id="system-h-current">--</span></div>
<div class="text-xs text-slate-600 mt-1">ะผ.ะฒ.ัั (ัะตะบััะตะต)</div>
<div class="text-xs text-slate-500 mt-2">ะธััะพะดะฝะพะต: <span id="system-h-initial">--</span> ะผ.ะฒ.ัั<br>ะธะทะผะตะฝะตะฝะธะต: <span class="font-bold" id="system-h-ratio">--ร</span></div>
</div>
</div>
<div class="mt-3 text-xs text-sky-800 bg-sky-100 rounded-lg p-2" id="resistance-equation"></div>
</div>

<!-- ========== ะะะกะงะะข ะกะขะะฏะะ ========== -->
<div class="riser-section" id="riser-calc-section" style="display:none;">
<div class="text-center mb-4">
<div class="text-lg font-bold text-purple-800">๐ข ะะะกะงะะข ะกะขะะฏะะ โ ะะะะะขะะฃะะะะฏ ะกะะกะขะะะ</div>
<div class="text-xs text-purple-600">5 ััะฐะถะตะน โข 10 ัะฐะดะธะฐัะพัะพะฒ โข ะะตััะฝัั ัะฐะทะฒะพะดะบะฐ โข ะะตัะตะผััะบะธ (ะฑะฐะนะฟะฐัั) ะฝะฐ ะบะฐะถะดะพะผ ัะฐะดะธะฐัะพัะต</div>
</div>
<div class="bg-white rounded-lg p-4 mb-4 border border-purple-300">
<div class="text-sm font-bold text-purple-800 mb-3">๐ ะะะะะะะขะะซ ะกะขะะฏะะ</div>
<div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3">
<div>
<div class="text-xs text-slate-600 mb-1">ะข ะฟะพะดะฐัะธ ััะพัะบะฐ</div>
<input type="number" id="riser-supply-temp" value="80" min="40" max="95" step="1" class="riser-param-input" onchange="calcRiser()">
<span class="text-xs text-slate-500">ยฐC</span>
</div>
<div>
<div class="text-xs text-slate-600 mb-1">ะะฐััะพะด ััะพัะบะฐ</div>
<input type="number" id="riser-flow" value="6" min="1" max="30" step="0.5" class="riser-param-input" onchange="calcRiser()">
<span class="text-xs text-slate-500">ะป/ะผะธะฝ</span>
</div>
<div>
<div class="text-xs text-slate-600 mb-1">ะะพัะฝ. ัะฐะด.</div>
<input type="number" id="riser-rad-power" value="1500" min="500" max="5000" step="100" class="riser-param-input" onchange="calcRiser()">
<span class="text-xs text-slate-500">ะั</span>
</div>
<div>
<div class="text-xs text-slate-600 mb-1">ะข ะบะพะผะฝะฐัั</div>
<input type="number" id="riser-room-temp" value="20" min="10" max="30" step="1" class="riser-param-input" onchange="calcRiser()">
<span class="text-xs text-slate-500">ยฐC</span>
</div>
<div>
<div class="text-xs text-slate-600 mb-1">ะกัะพัะบ โ (ะผะผ)</div>
<input type="number" id="riser-pipe-d" value="25.4" min="15" max="40" step="0.1" class="riser-param-input" onchange="calcRiser()">
<span class="text-xs text-slate-500">ะผะผ</span>
</div>
<div>
<div class="text-xs text-slate-600 mb-1">ะะฐะนะฟะฐั โ (ะผะผ)</div>
<input type="number" id="riser-bypass-d" value="20.4" min="10" max="32" step="0.1" class="riser-param-input" onchange="calcRiser()">
<span class="text-xs text-slate-500">ะผะผ</span>
</div>
</div>
<div class="mt-3 flex gap-3 flex-wrap">
<button onclick="riserOpenAll()" class="px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-semibold transition">โ ะัะบัััั ะฒัะต ะฟะตัะตะผััะบะธ</button>
<button onclick="riserCloseAll()" class="px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xs font-semibold transition">๐ซ ะะฐะบัััั ะฒัะต ะฟะตัะตะผััะบะธ</button>
<button onclick="riserCloseOne()" class="px-3 py-1.5 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-xs font-semibold transition">โ ะะฐะบัััั 1 ะฟะตัะตะผััะบั (5-ะน ััะฐะถ)</button>
</div>
</div>
<div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-4">
<div class="riser-summary-card">
<div class="text-xs text-purple-600 mb-1">ะะฐััะพะด ััะพัะบะฐ</div>
<div class="stat-value text-purple-800" id="riser-total-flow">--</div>
<div class="text-xs text-slate-500">ะป/ะผะธะฝ</div>
</div>
<div class="riser-summary-card">
<div class="text-xs text-purple-600 mb-1">ฮT ััะพัะบะฐ</div>
<div class="stat-value text-red-600" id="riser-delta-t">--</div>
<div class="text-xs text-slate-500">ยฐC (ะฟะพะดะฐัะฐโะพะฑัะฐัะบะฐ)</div>
</div>
<div class="riser-summary-card">
<div class="text-xs text-purple-600 mb-1">ะะฐะดะตะฝะธะต ัะฐััะพะดะฐ</div>
<div class="stat-value text-orange-600" id="riser-flow-drop">--</div>
<div class="text-xs text-slate-500">% ะฟัะธ ะทะฐะบัััะธะธ</div>
</div>
<div class="riser-summary-card">
<div class="text-xs text-purple-600 mb-1">ะข ะพะฑัะฐัะบะธ ััะพัะบะฐ</div>
<div class="stat-value text-blue-600" id="riser-return-temp">--</div>
<div class="text-xs text-slate-500">ยฐC</div>
</div>
</div>
<div class="bg-white rounded-lg p-4 border border-purple-200">
<div class="text-sm font-bold text-purple-800 mb-3">๐ข ะะะะะะขะะะซ ะะ ะญะขะะะะ (ัะฒะตััั ะฒะฝะธะท ะฟะพ ััะพัะบั)</div>
<div class="riser-floor-row floor-header">
<div>ะญัะฐะถ</div>
<div>ะขะตะผะฟะตัะฐัััะฐ ะฝะฐ ะฒัะพะดะต โ ะฒััะพะดะต</div>
<div>ะะฐััะพะด</div>
<div>ะะพัะฝะพััั</div>
<div>ะะตัะตะผััะบะฐ</div>
<div>ะกัะฐััั</div>
</div>
<div id="riser-floors-container"></div>
</div>
<div id="riser-verdict"></div>
<div class="mt-3 text-xs text-purple-800 bg-purple-100 rounded-lg p-3" id="riser-formulas">
<strong>ะะตัะพะดะธะบะฐ:</strong> ะะพัะปะตะดะพะฒะฐัะตะปัะฝัะน ัะฐัััั ะฟะพ ััะพัะบั. ะขะตะฟะปะพะฝะพัะธัะตะปั ะฒัะพะดะธั ะฒ 1-ะน ัะฐะดะธะฐัะพั, ะพัะดะฐัั ัะตะฟะปะพ (Q = GยทCpยทฮT), ะพัััะฒัะธะน ะฟะพัะพะบ ะฟะพัััะฟะฐะตั ะฝะฐ ัะปะตะดัััะธะน.<br>
ะัะธ ะทะฐะบัััะธะธ ะฟะตัะตะผััะบะธ โ ะฒะตัั ัะฐััะพะด ะธะดัั ัะตัะตะท ัะฐะดะธะฐัะพั (ฮถ_ัะฐะด >> ฮถ_ะฑะฐะนะฟะฐั), ัะพะฟัะพัะธะฒะปะตะฝะธะต ัะทะปะฐ ัะฐัััั โ ัะฐััะพะด ะฟะพ ััะพัะบั ะฟะฐะดะฐะตั.<br>
<strong>ะคะพัะผัะปั:</strong> T<sub>ะฒัั_i</sub> = T<sub>ะฒั_i</sub> โ Q<sub>i</sub> / (G<sub>i</sub> ยท C<sub>p</sub>), ะณะดะต Q<sub>i</sub> = ฮต<sub>i</sub> ยท G<sub>i</sub> ยท C<sub>p</sub> ยท (T<sub>ะฒั_i</sub> โ T<sub>ะบะพะผะฝ</sub>)<br>
<strong>ะะฐัะฟัะตะดะตะปะตะฝะธะต ะฟะพัะพะบะฐ ะฒ ัะทะปะต:</strong> k<sub>i</sub> = A<sub>i</sub> / โฮถ<sub>i</sub> (ัััะฑัะปะตะฝัะฝัะน ัะตะถะธะผ). ะะพะปั ัะฐะดะธะฐัะพัะฐ: f<sub>ัะฐะด</sub> = k<sub>ัะฐะด</sub> / (k<sub>ัะฐะด</sub> + k<sub>ะฑะฟ</sub>).<br>
<strong>ะกะพะฟัะพัะธะฒะปะตะฝะธะต ัะทะปะฐ (ะฟัะธะฒะตะด. ะบ ััะพัะบั):</strong> ฮถ<sub>ัะบะฒ</sub> = A<sub>ััะพัะบ</sub>ยฒ / (k<sub>ะฑะฟ</sub> + k<sub>ัะฐะด</sub>)ยฒ โ ะฟะฐัะฐะปะปะตะปัะฝะฐั ะบะพะผะฑะธะฝะฐัะธั ะฑะฐะนะฟะฐัะฐ ะธ ัะฐะดะธะฐัะพัะฐ.<br>
<strong>ฮป ััะตะฝะธั:</strong> ะะพัะปะฑััะบ-ะฃะฐะนั (ะฐะฟะฟัะพะบัะธะผะฐัะธั ะกะฒะฐะผะธะธ-ะะถะฐะนะฝะฐ), ัะตัะพั. ฮต = 0.15 ะผะผ (ััะฐะปั). ฮป = f(Re, ฮต/d). ะะตัะตัะพะดะฝัะน ัะตะถะธะผ Re 2320โ4000: ะปะธะฝะตะนะฝะฐั ะธะฝัะตัะฟะพะปััะธั.<br>
<strong>ะะพัะตัะธ ะฒ ััะพัะบะต:</strong> ฮT<sub>ัััะฑะฐ</sub> = UยทฯยทdยทLยท(T<sub>ัั</sub> โ T<sub>ะบะพะผะฝ</sub>) / (GยทC<sub>p</sub>), U = 10 ะั/(ะผยฒยทะ).<br>
<strong>ะะพะดะฒะพะดะบะฐ ะบ ัะฐะดะธะฐัะพัั:</strong> d<sub>ะฟะพะดะฒะพะดะบะธ</sub> = d<sub>rad_pipe</sub> (ะธะท ะฟะฐัะฐะผะตััะพะฒ ะณะธะดัะฐะฒะปะธะบะธ), ะฝะต d<sub>ััะพัะบะฐ</sub>
</div>
</div>

<!-- ============================================================ -->
<!-- ะะะะ 3: HTML (ะะะะฃะะฌะขะะขะซ ะ ะะะะะะะขะะซ ะะะะะะขะะะ)             -->
<!-- ============================================================ -->

<!-- ========== ะะะะฃะะะะะะฆะะฏ (ะัะฐะฝ ะฑะฐะนะฟะฐัะฐ + ะะฐัะฐะผะตััั + Canvas) ========== -->
<div id="visualization-section" style="display:none;">
<!-- ========== ะะะะ ะะ ะะะะะะกะ ========== -->
<div id="bypass-section" class="bypass-control mb-6">
<div class="flex flex-col md:flex-row items-center justify-between gap-4">
<div class="flex items-center gap-4">
<div class="text-2xl">โ</div>
<div>
<div class="text-sm font-bold text-orange-800">ะะะะ ะะ ะะะะะะกะ</div>
<div class="text-xs text-orange-600">ะะตัะตะบัะพะนัะต โ ะฒะตัั ะฟะพัะพะบ ัะตัะตะท ัะฐะดะธะฐัะพั</div>
</div>
</div>
<div class="flex-1 max-w-md">
<div class="flex items-center justify-between mb-2">
<span class="text-xs text-orange-700">ะะะะะซะข</span>
<span class="text-lg font-bold text-orange-800" id="bypass-valve-value">100%</span>
<span class="text-xs text-orange-700">ะะขะะะซะข</span>
</div>
<input type="range" id="bypassValve" min="0" max="100" value="100" class="w-full" oninput="updateBypassDisplay(); debouncedRecalc()">
</div>
<div class="flex gap-4">
<div class="flow-indicator bg-orange-100"><span class="text-orange-600">ะะฐะนะฟะฐั:</span><span class="font-bold text-orange-800" id="bypass-lpm">--</span></div>
<div class="flow-indicator bg-green-100"><span class="text-green-600">ะะฐะดะธะฐัะพั:</span><span class="font-bold text-green-800" id="radiator-lpm">--</span></div>
</div>
</div>
</div>

<!-- ========== ะะะะะะะขะะซ ะะะะะะขะะะ ========== -->
<div id="radiator-params-section" class="metric-card mb-6">
<div class="flex flex-wrap items-center justify-between gap-4">
<div class="flex items-center gap-4 flex-wrap">
<div>
<div class="text-xs text-slate-500 uppercase mb-1">ะะพัะฝะพััั ัะฐะด.</div>
<div class="flex items-center gap-2"><input type="number" id="nominalPower" value="2000" min="500" max="5000" step="100" class="power-input" oninput="debouncedRecalc()"><span class="text-slate-600">ะั</span></div>
</div>
<div>
<div class="text-xs text-red-600 uppercase mb-1 font-bold">๐ ะขะตะฟะปะพะฟะพัะตัะธ ัะฐัั.</div>
<div class="flex items-center gap-1"><input type="number" id="heatLossDesign" value="1000" min="200" max="10000" step="50" class="power-input border-red-300" oninput="debouncedRecalc()"><span class="text-slate-600">ะั</span></div>
</div>
<div>
<div class="text-xs text-blue-600 uppercase mb-1 font-bold">๐ก t<sub>ะฝะฐั.ัะฐัั</sub></div>
<div class="flex items-center gap-1"><input type="number" id="designOutTemp" value="-30" min="-55" max="0" step="1" class="power-input border-blue-300" oninput="debouncedRecalc()"><span class="text-slate-600">ยฐC</span></div>
</div>
<div>
<div class="text-xs text-amber-700 uppercase mb-1 font-bold">๐ฏ T<sub>ะบะพะผะฝ</sub> ะถะตะปะฐะตะผะฐั</div>
<div class="flex items-center gap-1"><input type="number" id="desiredRoomTemp" value="20" min="15" max="28" step="1" class="power-input border-amber-400" oninput="debouncedRecalc()"><span class="text-slate-600">ยฐC</span></div>
</div>
</div>
<div class="flex items-center gap-4 flex-wrap">
<div>
<div class="text-xs text-slate-500 uppercase mb-1">ะขยฐ ะฟะพะดะฐัะธ</div>
<div class="flex items-center gap-1"><input type="number" id="supplyTemp" value="70" min="40" max="95" step="1" class="power-input" oninput="debouncedRecalc()"><span class="text-slate-600">ยฐC</span></div>
</div>
<div>
<div class="text-xs text-slate-500 uppercase mb-1">ะะฐััะพะด</div>
<div class="flex items-center gap-1"><input type="number" id="systemFlow" value="4" min="0.5" max="30" step="0.5" class="power-input" oninput="debouncedRecalc()"><span class="text-slate-600">ะป/ะผะธะฝ</span></div>
</div>
<div>
<div class="text-xs text-red-600 uppercase mb-1 font-bold">๐ก ะฃะปะธัะฐ ัะฐะบั.</div>
<div class="flex items-center gap-1"><input type="number" id="outsideTemp" value="-10" min="-55" max="15" step="1" class="power-input border-red-300" oninput="debouncedRecalc()"><span class="text-slate-600">ยฐC</span></div>
</div>
<div>
<div class="text-xs text-green-600 uppercase mb-1">๐ ะัะธัะพะบะธ</div>
<div class="flex items-center gap-1"><input type="number" id="internalGains" value="0" min="0" max="1000" step="50" class="power-input border-green-300" placeholder="0" title="โ10 ะั/ะผยฒ ะดะปั ะถะธะปัั ะฟะพะผะตัะตะฝะธะน (ะกะ 60.13330)" oninput="debouncedRecalc()"><span class="text-slate-600">ะั</span></div>
<div class="text-xs text-slate-400 mt-0.5">โ10 ะั/ะผยฒ ะดะปั ะถะธะปัั</div>
</div>
</div>
</div>
<div class="sp-ref mt-3">๐ <strong>ะกะ 60.13330.2020 ะฟ.5.8:</strong> K = Q<sub>ัะฐัั</sub> / (t<sub>ะฒะฝ</sub> โ t<sub>ะฝะฐั.ัะฐัั</sub>) = <strong><span id="kroom-display">--</span> ะั/ะ</strong> โ ะฟะพััะพัะฝะฝัะน ะบะพัััะธัะธะตะฝั. Q<sub>ะฟะพั</sub>(t) = K ยท (T<sub>ะบะพะผะฝ</sub> โ t<sub>ัะป</sub>) โ ะปะธะฝะตะนะฝะฐั ะทะฐะฒะธัะธะผะพััั.</div>
<div class="mt-3 text-sm rounded-lg p-3 bg-amber-50 border border-amber-200" id="desired-temp-analysis">
<strong>๐ฏ ะัะธ ะถะตะปะฐะตะผะพะน T<sub>ะบะพะผะฝ</sub>:</strong> <span id="desired-temp-text">--</span>
</div>
</div>

<!-- ============================================================ -->
<!-- ะะะะ 4: HTML (CANVAS, ะะะขะะะะ, ะคะฃะขะะ)                       -->
<!-- ============================================================ -->

<!-- ========== ะะะะะะ ะะะะะะขะะะ ========== -->
<div class="mb-6 rounded-xl border-2 border-slate-200 bg-slate-50 overflow-hidden">
<button onclick="toggleSizeControls()" id="btn-size-controls" 
        class="w-full px-4 py-3 text-left mode-btn rounded-none bg-white text-slate-900 border-b-2 border-slate-200 hover:bg-slate-50 transition-all font-semibold">
    ๐ ะะฐะทะผะตัั ะธ ะฟะพะทะธัะธั
</button>
<div id="size-controls-section" class="metric-card mb-0 rounded-none p-4 flex flex-wrap items-center gap-6">
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะจะธัะธะฝะฐ</span>
<button type="button" onclick="adjustRadSize('width', -50)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="number" id="rad-width" value="1240" min="400" max="1400" step="50" class="w-20 power-input text-center" oninput="applyRadSize()">
<button type="button" onclick="adjustRadSize('width', 50)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะััะพัะฐ</span>
<button type="button" onclick="adjustRadSize('height', -20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="number" id="rad-height" value="360" min="200" max="600" step="20" class="w-20 power-input text-center" oninput="applyRadSize()">
<button type="button" onclick="adjustRadSize('height', 20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะะพ ะณะพัะธะทะพะฝัะฐะปะธ</span>
<button type="button" onclick="adjustRadPos('x', -20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="number" id="rad-pos-x" value="300" min="285" max="600" step="20" class="w-20 power-input text-center" oninput="applyRadPos()">
<button type="button" onclick="adjustRadPos('x', 20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะะพ ะฒะตััะธะบะฐะปะธ</span>
<button type="button" onclick="adjustRadPos('y', -20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="number" id="rad-pos-y" value="260" min="100" max="400" step="20" class="w-20 power-input text-center" oninput="applyRadPos()">
<button type="button" onclick="adjustRadPos('y', 20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะขััะฑั ัะปะตะฒะฐ ะฒะฒะตัั/ะฒะฝะธะท</span>
<button type="button" onclick="adjustLeftPipeExt(-20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="range" id="left-pipe-ext" min="0" max="300" value="0" step="10" class="w-24" oninput="applyLeftPipeExt()">
<span class="text-xs text-slate-500 font-mono" id="left-pipe-ext-val">0</span>
<button type="button" onclick="adjustLeftPipeExt(20)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะจะธัะธะฝะฐ ะพะบะฝะฐ</span>
<button type="button" onclick="adjustCanvasWidth(-50)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="number" id="canvas-width" value="1600" min="1000" max="2000" step="50" class="w-20 power-input text-center" oninput="applyCanvasWidth()">
<button type="button" onclick="adjustCanvasWidth(50)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
<div class="flex items-center gap-2">
<span class="text-xs text-slate-500 uppercase">ะััะพัะฐ ะพะบะฝะฐ</span>
<button type="button" onclick="adjustCanvasHeight(-50)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">โ</button>
<input type="number" id="canvas-height" value="850" min="700" max="1050" step="50" class="w-20 power-input text-center" oninput="applyCanvasHeight()">
<button type="button" onclick="adjustCanvasHeight(50)" class="px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 font-bold text-slate-700">+</button>
<span class="text-xs text-slate-500">px</span>
</div>
</div>
</div>

<!-- ========== CANVAS ========== -->
<div id="canvas-section" class="canvas-container mb-8"><canvas id="simCanvas"></canvas></div>

<!-- ========== ะะฃะกะขะะ CANVAS (ะฟะพะด ัะฐะดะธะฐัะพัะพะผ) ========== -->
<div id="canvas-below-section" class="canvas-container mb-8">
  <canvas id="simCanvasBelow"></canvas>
</div>
</div>

<!-- ========== ะะะะ: ะขะตะผะฟะตัะฐัััะฐ ะบะพะปะปะตะบัะพัะฐ ะพะฑัะฐัะบะธ ========== -->
<div id="collector-section" class="collector-flow-info mb-6" style="display:none;">
<div class="text-sm font-bold text-orange-800 mb-2">๐ฅ ะขะะะะะะะขะฃะะ ะะะะฅะะะะ ะะะะะะะขะะะ (ะพะฑัะฐัะบะฐ)</div>
<div class="text-xs text-orange-700 mb-2">ะะพัััะธะน ัะตะฟะปะพะฝะพัะธัะตะปั ะธะท ะฟะตัะฒัั ัะตะบัะธะน ะดะฒะธะถะตััั ะฟะพ ะบะพะปะปะตะบัะพัั ะพะฑัะฐัะบะธ ะบ ะดะฐะปัะฝะธะผ ัะตะบัะธัะผ (ะฟัะพัะธะฒะพัะพะบ). ะะพะปะปะตะบัะพั ะณะพัััะธะน ัะพะปัะบะพ ัะฐะผ, ะบัะดะฐ ะดะพัะพะดัั ัะฐััะธัั!</div>
<div id="collector-temps" class="flex flex-wrap gap-2"></div>
<div class="text-xs text-slate-500 mt-2" id="collector-explanation"></div>
<div class="text-xs text-orange-600 font-mono mt-2" id="particle-count-info"></div>
</div>

<!-- ========== ะะะขะะะะ ========== -->
<div id="metrics-section" class="flex flex-row flex-wrap items-center gap-4 mb-8" style="display:none;">
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">ะะฐะนะฟะฐั</span><span class="stat-value text-red-500 text-lg" id="bypass-flow">--%</span></div>
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">ะะฐะดะธะฐัะพั</span><span class="stat-value text-green-500 text-lg" id="radiator-flow">--%</span></div>
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">ะะพัะฝะพััั</span><span class="stat-value text-orange-500 text-lg" id="real-power">--</span></div>
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">ะญััะตะบัะธะฒะฝ.</span><span class="stat-value text-amber-500 text-lg" id="efficiency">--</span></div>
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">ะะฑัะฐัะบะฐ</span><span class="stat-value text-blue-500 text-lg" id="return-temp">--</span></div>
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">ฮT ะฒะพะดั</span><span class="stat-value text-purple-500 text-lg" id="delta-t">--</span></div>
<div class="metric-card flex items-center gap-2 px-4 py-2"><span class="text-xs text-slate-500 uppercase whitespace-nowrap">K<sub>room</sub></span><span class="stat-value text-teal-500 text-lg" id="kroom-card">--</span></div>
</div>

<!-- ========== ะกะะะฆะะ ========== -->
<div id="sections-section" class="metric-card mb-8" style="display:none;">
<div class="text-sm font-semibold text-slate-700 mb-2">๐ ะกะตะบัะธะธ ะฟัะธ T<sub>room</sub> = <span id="sections-troom">--</span>ยฐC</div>
<div id="sections-detail" class="grid grid-cols-2 sm:grid-cols-5 lg:grid-cols-10 gap-3"></div>
</div>

<!-- ========== ะะะะะะ ========== -->
<div id="analysis-section" class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8" style="display:none;">
<div class="metric-card">
<div class="text-sm font-semibold text-slate-700 mb-4">๐ก ะจะบะฐะปะฐ ัะตะผะฟะตัะฐััั</div>
<div class="temp-gradient mb-3" id="temp-gradient-bar"></div>
<div class="flex justify-between text-xs font-mono text-slate-500"><span>๐ต ัะพะปะพะด</span><span>30ยฐC</span><span>๐ด ะณะพัััะพ</span></div>
</div>
<div class="metric-card">
<div class="text-sm font-semibold text-slate-700 mb-3">๐ก ะะฝะฐะปะธะท</div>
<div id="physics-explanation" class="text-sm leading-relaxed text-slate-600"></div>
</div>
<div class="metric-card">
<div class="text-sm font-semibold text-slate-700 mb-2">๐ ะกัะพะดะธะผะพััั</div>
<div id="iteration-log" class="iter-log bg-slate-50 rounded-lg p-2"></div>
</div>
</div>

<!-- ========== ะะะะะะะซ ะกะะะฆะะ ========== -->
<div id="section-controls-section" class="metric-card mb-8" style="display:none;">
<div class="text-sm font-semibold text-slate-700 mb-4">โ ะะปะฐะฟะฐะฝั ัะตะบัะธะน</div>
<div id="section-controls" class="grid grid-cols-2 sm:grid-cols-5 lg:grid-cols-10 gap-4"></div>
</div>

<!-- ========== FOOTER ========== -->
<footer class="text-center py-6 text-slate-400 text-sm">
<p>ะกะพะทะดะฐัะตะปั ะฒะธะดะตะพ: <a href="https://vk.com/otoplenie44" target="_blank" class="text-indigo-500 font-semibold hover:underline">๐ ะะพะผะฐะฝ ะัะพะฟะปะตะฝะธะต</a></p>
</footer>
</div>

</body>
</html>
